{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yolokazi.Mmutsi\\\\OneDrive - Altron Group\\\\Documents\\\\development\\\\apps\\\\myapps\\\\MarketingApp1\\\\frontend\\\\src\\\\components\\\\TeamBudgetChart.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b', '#e377c2', '#7f7f7f', '#bcbd22', '#17becf', '#aec7e8', '#ffbb78', '#98df8a', '#ff9896', '#c5b0d5', '#c49c94', '#f7b6d2', '#c7c7c7', '#dbdb8d', '#9edae5'];\nexport const TeamBudgetChart = ({\n  teamData,\n  currentFilter\n}) => {\n  _s();\n  // Memoize chart data calculation for performance. This is now at the top level of the component.\n  const chartData = useMemo(() => {\n    if (currentFilter === 'all') {\n      return teamData.months; // Use months data directly for the 'All' view\n    }\n\n    // Calculate data for stacked bar charts (People/Programs)\n    const relevantSpendTypes = teamData[currentFilter] || [];\n    const totalCategoryBudget = relevantSpendTypes.reduce((sum, s) => sum + s.amount, 0);\n    return teamData.months.map(month => {\n      const monthData = {\n        month: month.month\n      };\n      relevantSpendTypes.forEach(spendType => {\n        // Correctly proportion the month's actual spend based on the spend type's share of its category budget\n        const proportion = totalCategoryBudget > 0 ? spendType.amount / totalCategoryBudget : 0;\n        monthData[spendType.name] = month.actual * proportion;\n      });\n      return monthData;\n    });\n  }, [teamData, currentFilter]);\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    width: \"100%\",\n    height: \"100%\",\n    children: currentFilter === 'all' ? /*#__PURE__*/_jsxDEV(BarChart, {\n      data: chartData,\n      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n        strokeDasharray: \"3 3\",\n        stroke: \"#f0f0f0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"month\",\n        fontSize: 10,\n        angle: -45,\n        textAnchor: \"end\",\n        height: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n        fontSize: 10,\n        tickFormatter: value => `${value / 1000}k`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        formatter: (value, name) => [`R${value.toLocaleString()}`, name],\n        labelStyle: {\n          color: '#333'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n        wrapperStyle: {\n          paddingTop: '10px'\n        },\n        iconType: \"rect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"actual\",\n        fill: \"#3B82F6\",\n        name: \"Actual\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"anticipated\",\n        fill: \"#F97316\",\n        name: \"Anticipated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(BarChart, {\n      data: chartData,\n      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n        strokeDasharray: \"3 3\",\n        stroke: \"#f0f0f0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"month\",\n        fontSize: 10,\n        angle: -45,\n        textAnchor: \"end\",\n        height: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n        fontSize: 10,\n        tickFormatter: value => `${value / 1000}k`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        formatter: (value, name) => [`R${value.toLocaleString()}`, name],\n        labelStyle: {\n          color: '#333'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n        wrapperStyle: {\n          paddingTop: '20px',\n          fontSize: '10px'\n        },\n        iconType: \"circle\",\n        iconSize: 8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), (teamData[currentFilter] || []).map((spendType, index) => /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: spendType.name,\n        stackId: \"a\",\n        name: spendType.name,\n        fill: COLORS[index % COLORS.length]\n      }, spendType.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(TeamBudgetChart, \"i4eYYg6GOj65klTCDK4mhi4wfgw=\");\n_c = TeamBudgetChart;\nvar _c;\n$RefreshReg$(_c, \"TeamBudgetChart\");","map":{"version":3,"names":["React","useMemo","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsxDEV","_jsxDEV","COLORS","TeamBudgetChart","teamData","currentFilter","_s","chartData","months","relevantSpendTypes","totalCategoryBudget","reduce","sum","s","amount","map","month","monthData","forEach","spendType","proportion","name","actual","width","height","children","data","strokeDasharray","stroke","fileName","_jsxFileName","lineNumber","columnNumber","dataKey","fontSize","angle","textAnchor","tickFormatter","value","formatter","toLocaleString","labelStyle","color","wrapperStyle","paddingTop","iconType","fill","iconSize","index","stackId","length","_c","$RefreshReg$"],"sources":["C:/Users/Yolokazi.Mmutsi/OneDrive - Altron Group/Documents/development/apps/myapps/MarketingApp1/frontend/src/components/TeamBudgetChart.js"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\n\r\nconst COLORS = [\r\n  '#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd',\r\n  '#8c564b', '#e377c2', '#7f7f7f', '#bcbd22', '#17becf',\r\n  '#aec7e8', '#ffbb78', '#98df8a', '#ff9896', '#c5b0d5',\r\n  '#c49c94', '#f7b6d2', '#c7c7c7', '#dbdb8d', '#9edae5'\r\n];\r\n\r\nexport const TeamBudgetChart = ({ teamData, currentFilter }) => {\r\n  // Memoize chart data calculation for performance. This is now at the top level of the component.\r\n  const chartData = useMemo(() => {\r\n    if (currentFilter === 'all') {\r\n      return teamData.months; // Use months data directly for the 'All' view\r\n    }\r\n\r\n    // Calculate data for stacked bar charts (People/Programs)\r\n    const relevantSpendTypes = teamData[currentFilter] || [];\r\n    const totalCategoryBudget = relevantSpendTypes.reduce((sum, s) => sum + s.amount, 0);\r\n\r\n    return teamData.months.map(month => {\r\n      const monthData = { month: month.month };\r\n      relevantSpendTypes.forEach(spendType => {\r\n        // Correctly proportion the month's actual spend based on the spend type's share of its category budget\r\n        const proportion = totalCategoryBudget > 0 ? spendType.amount / totalCategoryBudget : 0;\r\n        monthData[spendType.name] = month.actual * proportion;\r\n      });\r\n      return monthData;\r\n    });\r\n  }, [teamData, currentFilter]);\r\n\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n      {currentFilter === 'all' ? (\r\n        <BarChart data={chartData}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n          <XAxis dataKey=\"month\" fontSize={10} angle={-45} textAnchor=\"end\" height={50} />\r\n          <YAxis fontSize={10} tickFormatter={(value) => `${value / 1000}k`} />\r\n          <Tooltip formatter={(value, name) => [`R${value.toLocaleString()}`, name]} labelStyle={{ color: '#333' }} />\r\n          <Legend wrapperStyle={{ paddingTop: '10px' }} iconType=\"rect\" />\r\n          <Bar dataKey=\"actual\" fill=\"#3B82F6\" name=\"Actual\" />\r\n          <Bar dataKey=\"anticipated\" fill=\"#F97316\" name=\"Anticipated\" />\r\n        </BarChart>\r\n      ) : (\r\n        <BarChart data={chartData}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n          <XAxis dataKey=\"month\" fontSize={10} angle={-45} textAnchor=\"end\" height={50} />\r\n          <YAxis fontSize={10} tickFormatter={(value) => `${value / 1000}k`} />\r\n          <Tooltip formatter={(value, name) => [`R${value.toLocaleString()}`, name]} labelStyle={{ color: '#333' }} />\r\n          <Legend wrapperStyle={{ paddingTop: '20px', fontSize: '10px' }} iconType=\"circle\" iconSize={8} />\r\n          {(teamData[currentFilter] || []).map((spendType, index) => (\r\n            <Bar key={spendType.name} dataKey={spendType.name} stackId=\"a\" name={spendType.name} fill={COLORS[index % COLORS.length]} />\r\n          ))}\r\n        </BarChart>\r\n      )}\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}