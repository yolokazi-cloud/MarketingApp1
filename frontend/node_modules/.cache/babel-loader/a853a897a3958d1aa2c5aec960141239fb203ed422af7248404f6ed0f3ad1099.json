{"ast":null,"code":"var _excluded = [\"sourceX\", \"sourceY\", \"sourceControlX\", \"targetX\", \"targetY\", \"targetControlX\", \"linkWidth\"],\n  _excluded2 = [\"className\", \"style\", \"children\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nimport * as React from 'react';\nimport { useCallback, useMemo, useState } from 'react';\nimport maxBy from 'es-toolkit/compat/maxBy';\nimport sumBy from 'es-toolkit/compat/sumBy';\nimport get from 'es-toolkit/compat/get';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { ReportChartMargin, ReportChartSize, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { mouseLeaveItem, setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { SetComputedData } from '../context/chartDataContext';\nimport { svgPropertiesNoEvents, svgPropertiesNoEventsFromUnknown } from '../util/svgPropertiesNoEvents';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nvar interpolationGenerator = (a, b) => {\n  var ka = +a;\n  var kb = b - ka;\n  return t => ka + kb * t;\n};\nvar centerY = node => node.y + node.dy / 2;\nvar getValue = entry => entry && entry.value || 0;\nvar getSumOfIds = (links, ids) => ids.reduce((result, id) => result + getValue(links[id]), 0);\nvar getSumWithWeightedSource = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  var sourceNode = tree[link.source];\n  return result + centerY(sourceNode) * getValue(links[id]);\n}, 0);\nvar getSumWithWeightedTarget = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  var targetNode = tree[link.target];\n  return result + centerY(targetNode) * getValue(links[id]);\n}, 0);\nvar ascendingY = (a, b) => a.y - b.y;\nvar searchTargetsAndSources = (links, id) => {\n  var sourceNodes = [];\n  var sourceLinks = [];\n  var targetNodes = [];\n  var targetLinks = [];\n  for (var i = 0, len = links.length; i < len; i++) {\n    var link = links[i];\n    if (link.source === id) {\n      targetNodes.push(link.target);\n      targetLinks.push(i);\n    }\n    if (link.target === id) {\n      sourceNodes.push(link.source);\n      sourceLinks.push(i);\n    }\n  }\n  return {\n    sourceNodes,\n    sourceLinks,\n    targetLinks,\n    targetNodes\n  };\n};\nvar updateDepthOfTargets = (tree, curNode) => {\n  var {\n    targetNodes\n  } = curNode;\n  for (var i = 0, len = targetNodes.length; i < len; i++) {\n    var target = tree[targetNodes[i]];\n    if (target) {\n      target.depth = Math.max(curNode.depth + 1, target.depth);\n      updateDepthOfTargets(tree, target);\n    }\n  }\n};\nvar getNodesTree = (_ref, width, nodeWidth) => {\n  var _maxBy$depth, _maxBy;\n  var {\n    nodes,\n    links\n  } = _ref;\n  var tree = nodes.map((entry, index) => {\n    var result = searchTargetsAndSources(links, index);\n    return _objectSpread(_objectSpread(_objectSpread({}, entry), result), {}, {\n      value: Math.max(getSumOfIds(links, result.sourceLinks), getSumOfIds(links, result.targetLinks)),\n      depth: 0\n    });\n  });\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (!node.sourceNodes.length) {\n      updateDepthOfTargets(tree, node);\n    }\n  }\n  var maxDepth = (_maxBy$depth = (_maxBy = maxBy(tree, entry => entry.depth)) === null || _maxBy === void 0 ? void 0 : _maxBy.depth) !== null && _maxBy$depth !== void 0 ? _maxBy$depth : 0;\n  if (maxDepth >= 1) {\n    var childWidth = (width - nodeWidth) / maxDepth;\n    for (var _i = 0, _len = tree.length; _i < _len; _i++) {\n      var _node = tree[_i];\n      if (!_node.targetNodes.length) {\n        _node.depth = maxDepth;\n      }\n      _node.x = _node.depth * childWidth;\n      _node.dx = nodeWidth;\n    }\n  }\n  return {\n    tree,\n    maxDepth\n  };\n};\nvar getDepthTree = tree => {\n  var result = [];\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (!result[node.depth]) {\n      result[node.depth] = [];\n    }\n    result[node.depth].push(node);\n  }\n  return result;\n};\nvar updateYOfTree = (depthTree, height, nodePadding, links) => {\n  var yRatio = Math.min(...depthTree.map(nodes => (height - (nodes.length - 1) * nodePadding) / sumBy(nodes, getValue)));\n  for (var d = 0, maxDepth = depthTree.length; d < maxDepth; d++) {\n    for (var i = 0, len = depthTree[d].length; i < len; i++) {\n      var node = depthTree[d][i];\n      node.y = i;\n      node.dy = node.value * yRatio;\n    }\n  }\n  return links.map(link => _objectSpread(_objectSpread({}, link), {}, {\n    dy: getValue(link) * yRatio\n  }));\n};\nvar resolveCollisions = function resolveCollisions(depthTree, height, nodePadding) {\n  var sort = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  for (var i = 0, len = depthTree.length; i < len; i++) {\n    var nodes = depthTree[i];\n    var n = nodes.length;\n\n    // Sort by the value of y\n    if (sort) {\n      nodes.sort(ascendingY);\n    }\n    var y0 = 0;\n    for (var j = 0; j < n; j++) {\n      var node = nodes[j];\n      var dy = y0 - node.y;\n      if (dy > 0) {\n        node.y += dy;\n      }\n      y0 = node.y + node.dy + nodePadding;\n    }\n    y0 = height + nodePadding;\n    for (var _j = n - 1; _j >= 0; _j--) {\n      var _node2 = nodes[_j];\n      var _dy = _node2.y + _node2.dy + nodePadding - y0;\n      if (_dy > 0) {\n        _node2.y -= _dy;\n        y0 = _node2.y;\n      } else {\n        break;\n      }\n    }\n  }\n};\nvar relaxLeftToRight = (tree, depthTree, links, alpha) => {\n  for (var i = 0, maxDepth = depthTree.length; i < maxDepth; i++) {\n    var nodes = depthTree[i];\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node.sourceLinks.length) {\n        var sourceSum = getSumOfIds(links, node.sourceLinks);\n        var weightedSum = getSumWithWeightedSource(tree, links, node.sourceLinks);\n        var y = weightedSum / sourceSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar relaxRightToLeft = (tree, depthTree, links, alpha) => {\n  for (var i = depthTree.length - 1; i >= 0; i--) {\n    var nodes = depthTree[i];\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node.targetLinks.length) {\n        var targetSum = getSumOfIds(links, node.targetLinks);\n        var weightedSum = getSumWithWeightedTarget(tree, links, node.targetLinks);\n        var y = weightedSum / targetSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar updateYOfLinks = (tree, links) => {\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    var sy = 0;\n    var ty = 0;\n    node.targetLinks.sort((a, b) => tree[links[a].target].y - tree[links[b].target].y);\n    node.sourceLinks.sort((a, b) => tree[links[a].source].y - tree[links[b].source].y);\n    for (var j = 0, tLen = node.targetLinks.length; j < tLen; j++) {\n      var link = links[node.targetLinks[j]];\n      if (link) {\n        // @ts-expect-error we should refactor this to immutable\n        link.sy = sy;\n        sy += link.dy;\n      }\n    }\n    for (var _j2 = 0, sLen = node.sourceLinks.length; _j2 < sLen; _j2++) {\n      var _link = links[node.sourceLinks[_j2]];\n      if (_link) {\n        // @ts-expect-error we should refactor this to immutable\n        _link.ty = ty;\n        ty += _link.dy;\n      }\n    }\n  }\n};\nvar computeData = _ref2 => {\n  var {\n    data,\n    width,\n    height,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort\n  } = _ref2;\n  var {\n    links\n  } = data;\n  var {\n    tree\n  } = getNodesTree(data, width, nodeWidth);\n  var depthTree = getDepthTree(tree);\n  var linksWithDy = updateYOfTree(depthTree, height, nodePadding, links);\n  resolveCollisions(depthTree, height, nodePadding, sort);\n  var alpha = 1;\n  for (var i = 1; i <= iterations; i++) {\n    relaxRightToLeft(tree, depthTree, linksWithDy, alpha *= 0.99);\n    resolveCollisions(depthTree, height, nodePadding, sort);\n    relaxLeftToRight(tree, depthTree, linksWithDy, alpha);\n    resolveCollisions(depthTree, height, nodePadding, sort);\n  }\n  updateYOfLinks(tree, linksWithDy);\n  // @ts-expect-error updateYOfLinks modifies the links array to add sy and ty in place\n  var newLinks = linksWithDy;\n  return {\n    nodes: tree,\n    links: newLinks\n  };\n};\nvar getNodeCoordinateOfTooltip = item => {\n  return {\n    x: +item.x + +item.width / 2,\n    y: +item.y + +item.height / 2\n  };\n};\nvar getLinkCoordinateOfTooltip = item => {\n  return 'sourceX' in item ? {\n    x: (item.sourceX + item.targetX) / 2,\n    y: (item.sourceY + item.targetY) / 2\n  } : undefined;\n};\nvar getPayloadOfTooltip = (item, type, nameKey) => {\n  var {\n    payload\n  } = item;\n  if (type === 'node') {\n    return {\n      payload,\n      name: getValueByDataKey(payload, nameKey, ''),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  if ('source' in payload && payload.source && payload.target) {\n    var sourceName = getValueByDataKey(payload.source, nameKey, '');\n    var targetName = getValueByDataKey(payload.target, nameKey, '');\n    return {\n      payload,\n      name: \"\".concat(sourceName, \" - \").concat(targetName),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  return undefined;\n};\nexport var sankeyPayloadSearcher = (_, activeIndex, computedData, nameKey) => {\n  if (activeIndex == null || typeof activeIndex !== 'string') {\n    return undefined;\n  }\n  var splitIndex = activeIndex.split('-');\n  var [targetType, index] = splitIndex;\n  var item = get(computedData, \"\".concat(targetType, \"s[\").concat(index, \"]\"));\n  if (item) {\n    var payload = getPayloadOfTooltip(item, targetType, nameKey);\n    return payload;\n  }\n  return undefined;\n};\nvar options = {\n  chartName: 'Sankey',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: sankeyPayloadSearcher,\n  eventEmitter: undefined\n};\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    data\n  } = props;\n  return {\n    dataDefinedOnItem: data,\n    positions: undefined,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      color: fill,\n      unit: '' // Sankey does not have unit, why?\n    }\n  };\n}\n\n// TODO: improve types - NodeOptions uses SankeyNode, LinkOptions uses LinkProps. Standardize.\n\n// Why is margin not a Sankey prop? No clue. Probably it should be\nvar defaultSankeyMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nfunction renderLinkItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  var {\n      sourceX,\n      sourceY,\n      sourceControlX,\n      targetX,\n      targetY,\n      targetControlX,\n      linkWidth\n    } = props,\n    others = _objectWithoutProperties(props, _excluded);\n  return /*#__PURE__*/React.createElement(\"path\", _extends({\n    className: \"recharts-sankey-link\",\n    d: \"\\n          M\".concat(sourceX, \",\").concat(sourceY, \"\\n          C\").concat(sourceControlX, \",\").concat(sourceY, \" \").concat(targetControlX, \",\").concat(targetY, \" \").concat(targetX, \",\").concat(targetY, \"\\n        \"),\n    fill: \"none\",\n    stroke: \"#333\",\n    strokeWidth: linkWidth,\n    strokeOpacity: \"0.2\"\n  }, svgPropertiesNoEvents(others)));\n}\nvar buildLinkProps = _ref3 => {\n  var {\n    link,\n    nodes,\n    left,\n    top,\n    i,\n    linkContent,\n    linkCurvature\n  } = _ref3;\n  var {\n    sy: sourceRelativeY,\n    ty: targetRelativeY,\n    dy: linkWidth\n  } = link;\n  var sourceNode = nodes[link.source];\n  var targetNode = nodes[link.target];\n  var sourceX = sourceNode.x + sourceNode.dx + left;\n  var targetX = targetNode.x + left;\n  var interpolationFunc = interpolationGenerator(sourceX, targetX);\n  var sourceControlX = interpolationFunc(linkCurvature);\n  var targetControlX = interpolationFunc(1 - linkCurvature);\n  var sourceY = sourceNode.y + sourceRelativeY + linkWidth / 2 + top;\n  var targetY = targetNode.y + targetRelativeY + linkWidth / 2 + top;\n  var linkProps = _objectSpread({\n    sourceX,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetX,\n    sourceY,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetY,\n    sourceControlX,\n    targetControlX,\n    sourceRelativeY,\n    targetRelativeY,\n    linkWidth,\n    index: i,\n    payload: _objectSpread(_objectSpread({}, link), {}, {\n      source: sourceNode,\n      target: targetNode\n    })\n  }, svgPropertiesNoEventsFromUnknown(linkContent));\n  return linkProps;\n};\nfunction SankeyLinkElement(_ref4) {\n  var {\n    props,\n    i,\n    linkContent,\n    onMouseEnter: _onMouseEnter,\n    onMouseLeave: _onMouseLeave,\n    onClick: _onClick,\n    dataKey\n  } = _ref4;\n  var activeCoordinate = getLinkCoordinateOfTooltip(props);\n  var activeIndex = \"link-\".concat(i);\n  var dispatch = useAppDispatch();\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onMouseEnter(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onClick(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderLinkItem(linkContent, props));\n}\nfunction AllSankeyLinkElements(_ref5) {\n  var {\n    modifiedLinks,\n    links,\n    linkContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-links\",\n    key: \"recharts-sankey-links\"\n  }, links.map((link, i) => {\n    var linkProps = modifiedLinks[i];\n    return /*#__PURE__*/React.createElement(SankeyLinkElement, {\n      key: \"link-\".concat(link.source, \"-\").concat(link.target, \"-\").concat(link.value),\n      props: linkProps,\n      linkContent: linkContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nfunction renderNodeItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  return (/*#__PURE__*/\n    // @ts-expect-error recharts radius is not compatible with SVG radius\n    React.createElement(Rectangle, _extends({\n      className: \"recharts-sankey-node\",\n      fill: \"#0088fe\",\n      fillOpacity: \"0.8\"\n    }, svgPropertiesNoEvents(props)))\n  );\n}\nvar buildNodeProps = _ref6 => {\n  var {\n    node,\n    nodeContent,\n    top,\n    left,\n    i\n  } = _ref6;\n  var {\n    x,\n    y,\n    dx,\n    dy\n  } = node;\n  // @ts-expect-error nodeContent is passing in unknown props\n  var nodeProps = _objectSpread(_objectSpread({}, svgPropertiesNoEventsFromUnknown(nodeContent)), {}, {\n    x: x + left,\n    y: y + top,\n    width: dx,\n    height: dy,\n    index: i,\n    payload: node\n  });\n  return nodeProps;\n};\nfunction NodeElement(_ref7) {\n  var {\n    props,\n    nodeContent,\n    i,\n    onMouseEnter: _onMouseEnter2,\n    onMouseLeave: _onMouseLeave2,\n    onClick: _onClick2,\n    dataKey\n  } = _ref7;\n  var dispatch = useAppDispatch();\n  var activeCoordinate = getNodeCoordinateOfTooltip(props);\n  var activeIndex = \"node-\".concat(i);\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onMouseEnter2(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave2(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onClick2(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderNodeItem(nodeContent, props));\n}\nfunction AllNodeElements(_ref8) {\n  var {\n    modifiedNodes,\n    nodeContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref8;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-nodes\",\n    key: \"recharts-sankey-nodes\"\n  }, modifiedNodes.map((modifiedNode, i) => {\n    return /*#__PURE__*/React.createElement(NodeElement, {\n      key: \"node-\".concat(modifiedNode.index, \"-\").concat(modifiedNode.x, \"-\").concat(modifiedNode.y),\n      props: modifiedNode,\n      nodeContent: nodeContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nvar sankeyDefaultProps = {\n  nameKey: 'name',\n  dataKey: 'value',\n  nodePadding: 10,\n  nodeWidth: 10,\n  linkCurvature: 0.5,\n  iterations: 32,\n  margin: {\n    top: 5,\n    right: 5,\n    bottom: 5,\n    left: 5\n  },\n  sort: true\n};\nfunction SankeyImpl(props) {\n  var {\n      className,\n      style,\n      children\n    } = props,\n    others = _objectWithoutProperties(props, _excluded2);\n  var {\n    link,\n    dataKey,\n    node,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    data,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort,\n    linkCurvature,\n    margin\n  } = props;\n  var attrs = svgPropertiesNoEvents(others);\n  var width = useChartWidth();\n  var height = useChartHeight();\n  var {\n    links,\n    modifiedLinks,\n    modifiedNodes\n  } = useMemo(() => {\n    var _margin$left, _margin$right, _margin$top, _margin$bottom;\n    if (!data || !width || !height || width <= 0 || height <= 0) {\n      return {\n        nodes: [],\n        links: [],\n        modifiedLinks: [],\n        modifiedNodes: []\n      };\n    }\n    var contentWidth = width - ((_margin$left = margin.left) !== null && _margin$left !== void 0 ? _margin$left : 0) - ((_margin$right = margin.right) !== null && _margin$right !== void 0 ? _margin$right : 0);\n    var contentHeight = height - ((_margin$top = margin.top) !== null && _margin$top !== void 0 ? _margin$top : 0) - ((_margin$bottom = margin.bottom) !== null && _margin$bottom !== void 0 ? _margin$bottom : 0);\n    var computed = computeData({\n      data,\n      width: contentWidth,\n      height: contentHeight,\n      iterations,\n      nodeWidth,\n      nodePadding,\n      sort\n    });\n    var top = margin.top || 0;\n    var left = margin.left || 0;\n    var newModifiedLinks = computed.links.map((l, i) => {\n      return buildLinkProps({\n        link: l,\n        nodes: computed.nodes,\n        i,\n        top,\n        left,\n        linkContent: link,\n        linkCurvature\n      });\n    });\n    var newModifiedNodes = computed.nodes.map((n, i) => {\n      return buildNodeProps({\n        node: n,\n        nodeContent: node,\n        i,\n        top,\n        left\n      });\n    });\n    return {\n      nodes: computed.nodes,\n      links: computed.links,\n      modifiedLinks: newModifiedLinks,\n      modifiedNodes: newModifiedNodes\n    };\n  }, [data, width, height, margin, iterations, nodeWidth, nodePadding, sort, link, node, linkCurvature]);\n  var handleMouseEnter = useCallback((item, type, e) => {\n    if (onMouseEnter) {\n      onMouseEnter(item, type, e);\n    }\n  }, [onMouseEnter]);\n  var handleMouseLeave = useCallback((item, type, e) => {\n    if (onMouseLeave) {\n      onMouseLeave(item, type, e);\n    }\n  }, [onMouseLeave]);\n  var handleClick = useCallback((item, type, e) => {\n    if (onClick) {\n      onClick(item, type, e);\n    }\n  }, [onClick]);\n  if (!isPositiveNumber(width) || !isPositiveNumber(height) || !data || !data.links || !data.nodes) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetComputedData, {\n    computedData: {\n      links: modifiedLinks,\n      nodes: modifiedNodes\n    }\n  }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n    width: width,\n    height: height\n  }), children, /*#__PURE__*/React.createElement(AllSankeyLinkElements, {\n    links: links,\n    modifiedLinks: modifiedLinks,\n    linkContent: link,\n    dataKey: dataKey,\n    onMouseEnter: (linkProps, e) => handleMouseEnter(linkProps, 'link', e),\n    onMouseLeave: (linkProps, e) => handleMouseLeave(linkProps, 'link', e),\n    onClick: (linkProps, e) => handleClick(linkProps, 'link', e)\n  }), /*#__PURE__*/React.createElement(AllNodeElements, {\n    modifiedNodes: modifiedNodes,\n    nodeContent: node,\n    dataKey: dataKey,\n    onMouseEnter: (nodeProps, e) => handleMouseEnter(nodeProps, 'node', e),\n    onMouseLeave: (nodeProps, e) => handleMouseLeave(nodeProps, 'node', e),\n    onClick: (nodeProps, e) => handleClick(nodeProps, 'node', e)\n  })));\n}\nexport function Sankey(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, sankeyDefaultProps);\n  var {\n    width,\n    height,\n    style,\n    className\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: className !== null && className !== void 0 ? className : 'Sankey'\n  }, /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: props\n  }), /*#__PURE__*/React.createElement(ReportChartSize, {\n    width: width,\n    height: height\n  }), /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultSankeyMargin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Sankey, same as Treemap, suffers from overfilling the container\n     * and causing infinite render loops where the chart keeps growing.\n     */,\n    responsive: false,\n    ref: node => {\n      if (node && !tooltipPortal) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(SankeyImpl, props))));\n}\nSankey.displayName = 'Sankey';","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutProperties","o","i","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","useCallback","useMemo","useState","maxBy","sumBy","get","Surface","Layer","Rectangle","getValueByDataKey","ReportChartMargin","ReportChartSize","useChartHeight","useChartWidth","TooltipPortalContext","RechartsWrapper","RechartsStoreProvider","useAppDispatch","mouseLeaveItem","setActiveClickItemIndex","setActiveMouseOverItemIndex","SetTooltipEntrySettings","SetComputedData","svgPropertiesNoEvents","svgPropertiesNoEventsFromUnknown","resolveDefaultProps","isPositiveNumber","interpolationGenerator","a","b","ka","kb","centerY","node","y","dy","getValue","entry","getSumOfIds","links","ids","reduce","result","id","getSumWithWeightedSource","tree","link","sourceNode","source","getSumWithWeightedTarget","targetNode","target","ascendingY","searchTargetsAndSources","sourceNodes","sourceLinks","targetNodes","targetLinks","len","updateDepthOfTargets","curNode","depth","Math","max","getNodesTree","_ref","width","nodeWidth","_maxBy$depth","_maxBy","nodes","map","index","maxDepth","childWidth","_i","_len","_node","x","dx","getDepthTree","updateYOfTree","depthTree","height","nodePadding","yRatio","min","d","resolveCollisions","sort","undefined","y0","j","_j","_node2","_dy","relaxLeftToRight","alpha","sourceSum","weightedSum","relaxRightToLeft","targetSum","updateYOfLinks","sy","ty","tLen","_j2","sLen","_link","computeData","_ref2","data","iterations","linksWithDy","newLinks","getNodeCoordinateOfTooltip","item","getLinkCoordinateOfTooltip","sourceX","targetX","sourceY","targetY","getPayloadOfTooltip","type","nameKey","payload","name","sourceName","targetName","concat","sankeyPayloadSearcher","_","activeIndex","computedData","splitIndex","split","targetType","options","chartName","defaultTooltipEventType","validateTooltipEventTypes","tooltipPayloadSearcher","eventEmitter","getTooltipEntrySettings","props","dataKey","stroke","strokeWidth","fill","dataDefinedOnItem","positions","settings","color","unit","defaultSankeyMargin","top","right","bottom","left","renderLinkItem","option","isValidElement","cloneElement","sourceControlX","targetControlX","linkWidth","others","createElement","className","strokeOpacity","buildLinkProps","_ref3","linkContent","linkCurvature","sourceRelativeY","targetRelativeY","interpolationFunc","linkProps","SankeyLinkElement","_ref4","onMouseEnter","_onMouseEnter","onMouseLeave","_onMouseLeave","onClick","_onClick","activeCoordinate","dispatch","events","activeDataKey","AllSankeyLinkElements","_ref5","modifiedLinks","key","renderNodeItem","fillOpacity","buildNodeProps","_ref6","nodeContent","nodeProps","NodeElement","_ref7","_onMouseEnter2","_onMouseLeave2","_onClick2","AllNodeElements","_ref8","modifiedNodes","modifiedNode","sankeyDefaultProps","margin","SankeyImpl","style","children","attrs","_margin$left","_margin$right","_margin$top","_margin$bottom","contentWidth","contentHeight","computed","newModifiedLinks","l","newModifiedNodes","handleMouseEnter","handleMouseLeave","handleClick","Fragment","Sankey","outsideProps","tooltipPortal","setTooltipPortal","preloadedState","reduxStoreName","fn","args","responsive","ref","onMouseMove","onMouseDown","onMouseUp","onContextMenu","onDoubleClick","onTouchStart","onTouchMove","onTouchEnd","Provider","displayName"],"sources":["C:/Users/Yolokazi.Mmutsi/OneDrive - Altron Group/Documents/development/apps/myapps/MarketingApp1/frontend/node_modules/recharts/es6/chart/Sankey.js"],"sourcesContent":["var _excluded = [\"sourceX\", \"sourceY\", \"sourceControlX\", \"targetX\", \"targetY\", \"targetControlX\", \"linkWidth\"],\n  _excluded2 = [\"className\", \"style\", \"children\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { useCallback, useMemo, useState } from 'react';\nimport maxBy from 'es-toolkit/compat/maxBy';\nimport sumBy from 'es-toolkit/compat/sumBy';\nimport get from 'es-toolkit/compat/get';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { ReportChartMargin, ReportChartSize, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { mouseLeaveItem, setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { SetComputedData } from '../context/chartDataContext';\nimport { svgPropertiesNoEvents, svgPropertiesNoEventsFromUnknown } from '../util/svgPropertiesNoEvents';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nvar interpolationGenerator = (a, b) => {\n  var ka = +a;\n  var kb = b - ka;\n  return t => ka + kb * t;\n};\nvar centerY = node => node.y + node.dy / 2;\nvar getValue = entry => entry && entry.value || 0;\nvar getSumOfIds = (links, ids) => ids.reduce((result, id) => result + getValue(links[id]), 0);\nvar getSumWithWeightedSource = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  var sourceNode = tree[link.source];\n  return result + centerY(sourceNode) * getValue(links[id]);\n}, 0);\nvar getSumWithWeightedTarget = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  var targetNode = tree[link.target];\n  return result + centerY(targetNode) * getValue(links[id]);\n}, 0);\nvar ascendingY = (a, b) => a.y - b.y;\nvar searchTargetsAndSources = (links, id) => {\n  var sourceNodes = [];\n  var sourceLinks = [];\n  var targetNodes = [];\n  var targetLinks = [];\n  for (var i = 0, len = links.length; i < len; i++) {\n    var link = links[i];\n    if (link.source === id) {\n      targetNodes.push(link.target);\n      targetLinks.push(i);\n    }\n    if (link.target === id) {\n      sourceNodes.push(link.source);\n      sourceLinks.push(i);\n    }\n  }\n  return {\n    sourceNodes,\n    sourceLinks,\n    targetLinks,\n    targetNodes\n  };\n};\nvar updateDepthOfTargets = (tree, curNode) => {\n  var {\n    targetNodes\n  } = curNode;\n  for (var i = 0, len = targetNodes.length; i < len; i++) {\n    var target = tree[targetNodes[i]];\n    if (target) {\n      target.depth = Math.max(curNode.depth + 1, target.depth);\n      updateDepthOfTargets(tree, target);\n    }\n  }\n};\nvar getNodesTree = (_ref, width, nodeWidth) => {\n  var _maxBy$depth, _maxBy;\n  var {\n    nodes,\n    links\n  } = _ref;\n  var tree = nodes.map((entry, index) => {\n    var result = searchTargetsAndSources(links, index);\n    return _objectSpread(_objectSpread(_objectSpread({}, entry), result), {}, {\n      value: Math.max(getSumOfIds(links, result.sourceLinks), getSumOfIds(links, result.targetLinks)),\n      depth: 0\n    });\n  });\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (!node.sourceNodes.length) {\n      updateDepthOfTargets(tree, node);\n    }\n  }\n  var maxDepth = (_maxBy$depth = (_maxBy = maxBy(tree, entry => entry.depth)) === null || _maxBy === void 0 ? void 0 : _maxBy.depth) !== null && _maxBy$depth !== void 0 ? _maxBy$depth : 0;\n  if (maxDepth >= 1) {\n    var childWidth = (width - nodeWidth) / maxDepth;\n    for (var _i = 0, _len = tree.length; _i < _len; _i++) {\n      var _node = tree[_i];\n      if (!_node.targetNodes.length) {\n        _node.depth = maxDepth;\n      }\n      _node.x = _node.depth * childWidth;\n      _node.dx = nodeWidth;\n    }\n  }\n  return {\n    tree,\n    maxDepth\n  };\n};\nvar getDepthTree = tree => {\n  var result = [];\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (!result[node.depth]) {\n      result[node.depth] = [];\n    }\n    result[node.depth].push(node);\n  }\n  return result;\n};\nvar updateYOfTree = (depthTree, height, nodePadding, links) => {\n  var yRatio = Math.min(...depthTree.map(nodes => (height - (nodes.length - 1) * nodePadding) / sumBy(nodes, getValue)));\n  for (var d = 0, maxDepth = depthTree.length; d < maxDepth; d++) {\n    for (var i = 0, len = depthTree[d].length; i < len; i++) {\n      var node = depthTree[d][i];\n      node.y = i;\n      node.dy = node.value * yRatio;\n    }\n  }\n  return links.map(link => _objectSpread(_objectSpread({}, link), {}, {\n    dy: getValue(link) * yRatio\n  }));\n};\nvar resolveCollisions = function resolveCollisions(depthTree, height, nodePadding) {\n  var sort = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  for (var i = 0, len = depthTree.length; i < len; i++) {\n    var nodes = depthTree[i];\n    var n = nodes.length;\n\n    // Sort by the value of y\n    if (sort) {\n      nodes.sort(ascendingY);\n    }\n    var y0 = 0;\n    for (var j = 0; j < n; j++) {\n      var node = nodes[j];\n      var dy = y0 - node.y;\n      if (dy > 0) {\n        node.y += dy;\n      }\n      y0 = node.y + node.dy + nodePadding;\n    }\n    y0 = height + nodePadding;\n    for (var _j = n - 1; _j >= 0; _j--) {\n      var _node2 = nodes[_j];\n      var _dy = _node2.y + _node2.dy + nodePadding - y0;\n      if (_dy > 0) {\n        _node2.y -= _dy;\n        y0 = _node2.y;\n      } else {\n        break;\n      }\n    }\n  }\n};\nvar relaxLeftToRight = (tree, depthTree, links, alpha) => {\n  for (var i = 0, maxDepth = depthTree.length; i < maxDepth; i++) {\n    var nodes = depthTree[i];\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node.sourceLinks.length) {\n        var sourceSum = getSumOfIds(links, node.sourceLinks);\n        var weightedSum = getSumWithWeightedSource(tree, links, node.sourceLinks);\n        var y = weightedSum / sourceSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar relaxRightToLeft = (tree, depthTree, links, alpha) => {\n  for (var i = depthTree.length - 1; i >= 0; i--) {\n    var nodes = depthTree[i];\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node.targetLinks.length) {\n        var targetSum = getSumOfIds(links, node.targetLinks);\n        var weightedSum = getSumWithWeightedTarget(tree, links, node.targetLinks);\n        var y = weightedSum / targetSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar updateYOfLinks = (tree, links) => {\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    var sy = 0;\n    var ty = 0;\n    node.targetLinks.sort((a, b) => tree[links[a].target].y - tree[links[b].target].y);\n    node.sourceLinks.sort((a, b) => tree[links[a].source].y - tree[links[b].source].y);\n    for (var j = 0, tLen = node.targetLinks.length; j < tLen; j++) {\n      var link = links[node.targetLinks[j]];\n      if (link) {\n        // @ts-expect-error we should refactor this to immutable\n        link.sy = sy;\n        sy += link.dy;\n      }\n    }\n    for (var _j2 = 0, sLen = node.sourceLinks.length; _j2 < sLen; _j2++) {\n      var _link = links[node.sourceLinks[_j2]];\n      if (_link) {\n        // @ts-expect-error we should refactor this to immutable\n        _link.ty = ty;\n        ty += _link.dy;\n      }\n    }\n  }\n};\nvar computeData = _ref2 => {\n  var {\n    data,\n    width,\n    height,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort\n  } = _ref2;\n  var {\n    links\n  } = data;\n  var {\n    tree\n  } = getNodesTree(data, width, nodeWidth);\n  var depthTree = getDepthTree(tree);\n  var linksWithDy = updateYOfTree(depthTree, height, nodePadding, links);\n  resolveCollisions(depthTree, height, nodePadding, sort);\n  var alpha = 1;\n  for (var i = 1; i <= iterations; i++) {\n    relaxRightToLeft(tree, depthTree, linksWithDy, alpha *= 0.99);\n    resolveCollisions(depthTree, height, nodePadding, sort);\n    relaxLeftToRight(tree, depthTree, linksWithDy, alpha);\n    resolveCollisions(depthTree, height, nodePadding, sort);\n  }\n  updateYOfLinks(tree, linksWithDy);\n  // @ts-expect-error updateYOfLinks modifies the links array to add sy and ty in place\n  var newLinks = linksWithDy;\n  return {\n    nodes: tree,\n    links: newLinks\n  };\n};\nvar getNodeCoordinateOfTooltip = item => {\n  return {\n    x: +item.x + +item.width / 2,\n    y: +item.y + +item.height / 2\n  };\n};\nvar getLinkCoordinateOfTooltip = item => {\n  return 'sourceX' in item ? {\n    x: (item.sourceX + item.targetX) / 2,\n    y: (item.sourceY + item.targetY) / 2\n  } : undefined;\n};\nvar getPayloadOfTooltip = (item, type, nameKey) => {\n  var {\n    payload\n  } = item;\n  if (type === 'node') {\n    return {\n      payload,\n      name: getValueByDataKey(payload, nameKey, ''),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  if ('source' in payload && payload.source && payload.target) {\n    var sourceName = getValueByDataKey(payload.source, nameKey, '');\n    var targetName = getValueByDataKey(payload.target, nameKey, '');\n    return {\n      payload,\n      name: \"\".concat(sourceName, \" - \").concat(targetName),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  return undefined;\n};\nexport var sankeyPayloadSearcher = (_, activeIndex, computedData, nameKey) => {\n  if (activeIndex == null || typeof activeIndex !== 'string') {\n    return undefined;\n  }\n  var splitIndex = activeIndex.split('-');\n  var [targetType, index] = splitIndex;\n  var item = get(computedData, \"\".concat(targetType, \"s[\").concat(index, \"]\"));\n  if (item) {\n    var payload = getPayloadOfTooltip(item, targetType, nameKey);\n    return payload;\n  }\n  return undefined;\n};\nvar options = {\n  chartName: 'Sankey',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: sankeyPayloadSearcher,\n  eventEmitter: undefined\n};\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    data\n  } = props;\n  return {\n    dataDefinedOnItem: data,\n    positions: undefined,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      color: fill,\n      unit: '' // Sankey does not have unit, why?\n    }\n  };\n}\n\n// TODO: improve types - NodeOptions uses SankeyNode, LinkOptions uses LinkProps. Standardize.\n\n// Why is margin not a Sankey prop? No clue. Probably it should be\nvar defaultSankeyMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nfunction renderLinkItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  var {\n      sourceX,\n      sourceY,\n      sourceControlX,\n      targetX,\n      targetY,\n      targetControlX,\n      linkWidth\n    } = props,\n    others = _objectWithoutProperties(props, _excluded);\n  return /*#__PURE__*/React.createElement(\"path\", _extends({\n    className: \"recharts-sankey-link\",\n    d: \"\\n          M\".concat(sourceX, \",\").concat(sourceY, \"\\n          C\").concat(sourceControlX, \",\").concat(sourceY, \" \").concat(targetControlX, \",\").concat(targetY, \" \").concat(targetX, \",\").concat(targetY, \"\\n        \"),\n    fill: \"none\",\n    stroke: \"#333\",\n    strokeWidth: linkWidth,\n    strokeOpacity: \"0.2\"\n  }, svgPropertiesNoEvents(others)));\n}\nvar buildLinkProps = _ref3 => {\n  var {\n    link,\n    nodes,\n    left,\n    top,\n    i,\n    linkContent,\n    linkCurvature\n  } = _ref3;\n  var {\n    sy: sourceRelativeY,\n    ty: targetRelativeY,\n    dy: linkWidth\n  } = link;\n  var sourceNode = nodes[link.source];\n  var targetNode = nodes[link.target];\n  var sourceX = sourceNode.x + sourceNode.dx + left;\n  var targetX = targetNode.x + left;\n  var interpolationFunc = interpolationGenerator(sourceX, targetX);\n  var sourceControlX = interpolationFunc(linkCurvature);\n  var targetControlX = interpolationFunc(1 - linkCurvature);\n  var sourceY = sourceNode.y + sourceRelativeY + linkWidth / 2 + top;\n  var targetY = targetNode.y + targetRelativeY + linkWidth / 2 + top;\n  var linkProps = _objectSpread({\n    sourceX,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetX,\n    sourceY,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetY,\n    sourceControlX,\n    targetControlX,\n    sourceRelativeY,\n    targetRelativeY,\n    linkWidth,\n    index: i,\n    payload: _objectSpread(_objectSpread({}, link), {}, {\n      source: sourceNode,\n      target: targetNode\n    })\n  }, svgPropertiesNoEventsFromUnknown(linkContent));\n  return linkProps;\n};\nfunction SankeyLinkElement(_ref4) {\n  var {\n    props,\n    i,\n    linkContent,\n    onMouseEnter: _onMouseEnter,\n    onMouseLeave: _onMouseLeave,\n    onClick: _onClick,\n    dataKey\n  } = _ref4;\n  var activeCoordinate = getLinkCoordinateOfTooltip(props);\n  var activeIndex = \"link-\".concat(i);\n  var dispatch = useAppDispatch();\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onMouseEnter(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onClick(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderLinkItem(linkContent, props));\n}\nfunction AllSankeyLinkElements(_ref5) {\n  var {\n    modifiedLinks,\n    links,\n    linkContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-links\",\n    key: \"recharts-sankey-links\"\n  }, links.map((link, i) => {\n    var linkProps = modifiedLinks[i];\n    return /*#__PURE__*/React.createElement(SankeyLinkElement, {\n      key: \"link-\".concat(link.source, \"-\").concat(link.target, \"-\").concat(link.value),\n      props: linkProps,\n      linkContent: linkContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nfunction renderNodeItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  return (\n    /*#__PURE__*/\n    // @ts-expect-error recharts radius is not compatible with SVG radius\n    React.createElement(Rectangle, _extends({\n      className: \"recharts-sankey-node\",\n      fill: \"#0088fe\",\n      fillOpacity: \"0.8\"\n    }, svgPropertiesNoEvents(props)))\n  );\n}\nvar buildNodeProps = _ref6 => {\n  var {\n    node,\n    nodeContent,\n    top,\n    left,\n    i\n  } = _ref6;\n  var {\n    x,\n    y,\n    dx,\n    dy\n  } = node;\n  // @ts-expect-error nodeContent is passing in unknown props\n  var nodeProps = _objectSpread(_objectSpread({}, svgPropertiesNoEventsFromUnknown(nodeContent)), {}, {\n    x: x + left,\n    y: y + top,\n    width: dx,\n    height: dy,\n    index: i,\n    payload: node\n  });\n  return nodeProps;\n};\nfunction NodeElement(_ref7) {\n  var {\n    props,\n    nodeContent,\n    i,\n    onMouseEnter: _onMouseEnter2,\n    onMouseLeave: _onMouseLeave2,\n    onClick: _onClick2,\n    dataKey\n  } = _ref7;\n  var dispatch = useAppDispatch();\n  var activeCoordinate = getNodeCoordinateOfTooltip(props);\n  var activeIndex = \"node-\".concat(i);\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onMouseEnter2(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave2(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate\n      }));\n      _onClick2(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderNodeItem(nodeContent, props));\n}\nfunction AllNodeElements(_ref8) {\n  var {\n    modifiedNodes,\n    nodeContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref8;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-nodes\",\n    key: \"recharts-sankey-nodes\"\n  }, modifiedNodes.map((modifiedNode, i) => {\n    return /*#__PURE__*/React.createElement(NodeElement, {\n      key: \"node-\".concat(modifiedNode.index, \"-\").concat(modifiedNode.x, \"-\").concat(modifiedNode.y),\n      props: modifiedNode,\n      nodeContent: nodeContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nvar sankeyDefaultProps = {\n  nameKey: 'name',\n  dataKey: 'value',\n  nodePadding: 10,\n  nodeWidth: 10,\n  linkCurvature: 0.5,\n  iterations: 32,\n  margin: {\n    top: 5,\n    right: 5,\n    bottom: 5,\n    left: 5\n  },\n  sort: true\n};\nfunction SankeyImpl(props) {\n  var {\n      className,\n      style,\n      children\n    } = props,\n    others = _objectWithoutProperties(props, _excluded2);\n  var {\n    link,\n    dataKey,\n    node,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    data,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort,\n    linkCurvature,\n    margin\n  } = props;\n  var attrs = svgPropertiesNoEvents(others);\n  var width = useChartWidth();\n  var height = useChartHeight();\n  var {\n    links,\n    modifiedLinks,\n    modifiedNodes\n  } = useMemo(() => {\n    var _margin$left, _margin$right, _margin$top, _margin$bottom;\n    if (!data || !width || !height || width <= 0 || height <= 0) {\n      return {\n        nodes: [],\n        links: [],\n        modifiedLinks: [],\n        modifiedNodes: []\n      };\n    }\n    var contentWidth = width - ((_margin$left = margin.left) !== null && _margin$left !== void 0 ? _margin$left : 0) - ((_margin$right = margin.right) !== null && _margin$right !== void 0 ? _margin$right : 0);\n    var contentHeight = height - ((_margin$top = margin.top) !== null && _margin$top !== void 0 ? _margin$top : 0) - ((_margin$bottom = margin.bottom) !== null && _margin$bottom !== void 0 ? _margin$bottom : 0);\n    var computed = computeData({\n      data,\n      width: contentWidth,\n      height: contentHeight,\n      iterations,\n      nodeWidth,\n      nodePadding,\n      sort\n    });\n    var top = margin.top || 0;\n    var left = margin.left || 0;\n    var newModifiedLinks = computed.links.map((l, i) => {\n      return buildLinkProps({\n        link: l,\n        nodes: computed.nodes,\n        i,\n        top,\n        left,\n        linkContent: link,\n        linkCurvature\n      });\n    });\n    var newModifiedNodes = computed.nodes.map((n, i) => {\n      return buildNodeProps({\n        node: n,\n        nodeContent: node,\n        i,\n        top,\n        left\n      });\n    });\n    return {\n      nodes: computed.nodes,\n      links: computed.links,\n      modifiedLinks: newModifiedLinks,\n      modifiedNodes: newModifiedNodes\n    };\n  }, [data, width, height, margin, iterations, nodeWidth, nodePadding, sort, link, node, linkCurvature]);\n  var handleMouseEnter = useCallback((item, type, e) => {\n    if (onMouseEnter) {\n      onMouseEnter(item, type, e);\n    }\n  }, [onMouseEnter]);\n  var handleMouseLeave = useCallback((item, type, e) => {\n    if (onMouseLeave) {\n      onMouseLeave(item, type, e);\n    }\n  }, [onMouseLeave]);\n  var handleClick = useCallback((item, type, e) => {\n    if (onClick) {\n      onClick(item, type, e);\n    }\n  }, [onClick]);\n  if (!isPositiveNumber(width) || !isPositiveNumber(height) || !data || !data.links || !data.nodes) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetComputedData, {\n    computedData: {\n      links: modifiedLinks,\n      nodes: modifiedNodes\n    }\n  }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n    width: width,\n    height: height\n  }), children, /*#__PURE__*/React.createElement(AllSankeyLinkElements, {\n    links: links,\n    modifiedLinks: modifiedLinks,\n    linkContent: link,\n    dataKey: dataKey,\n    onMouseEnter: (linkProps, e) => handleMouseEnter(linkProps, 'link', e),\n    onMouseLeave: (linkProps, e) => handleMouseLeave(linkProps, 'link', e),\n    onClick: (linkProps, e) => handleClick(linkProps, 'link', e)\n  }), /*#__PURE__*/React.createElement(AllNodeElements, {\n    modifiedNodes: modifiedNodes,\n    nodeContent: node,\n    dataKey: dataKey,\n    onMouseEnter: (nodeProps, e) => handleMouseEnter(nodeProps, 'node', e),\n    onMouseLeave: (nodeProps, e) => handleMouseLeave(nodeProps, 'node', e),\n    onClick: (nodeProps, e) => handleClick(nodeProps, 'node', e)\n  })));\n}\nexport function Sankey(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, sankeyDefaultProps);\n  var {\n    width,\n    height,\n    style,\n    className\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: className !== null && className !== void 0 ? className : 'Sankey'\n  }, /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: props\n  }), /*#__PURE__*/React.createElement(ReportChartSize, {\n    width: width,\n    height: height\n  }), /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultSankeyMargin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Sankey, same as Treemap, suffers from overfilling the container\n     * and causing infinite render loops where the chart keeps growing.\n     */,\n    responsive: false,\n    ref: node => {\n      if (node && !tooltipPortal) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(SankeyImpl, props))));\n}\nSankey.displayName = 'Sankey';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}