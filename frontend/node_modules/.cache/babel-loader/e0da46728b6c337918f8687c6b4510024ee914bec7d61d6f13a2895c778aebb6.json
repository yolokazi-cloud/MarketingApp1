{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yolokazi.Mmutsi\\\\OneDrive - Altron Group\\\\Documents\\\\development\\\\apps\\\\myapps\\\\MarketingApp1\\\\frontend\\\\src\\\\components\\\\UploadHistoryModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { X, Download, Trash2, ChevronDown, ChevronUp, AlertTriangle } from 'lucide-react';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadHistoryModal = ({\n  isOpen,\n  onClose,\n  dataType,\n  onDataUpdate\n}) => {\n  _s();\n  const [versions, setVersions] = useState([]);\n  const [selectedVersion, setSelectedVersion] = useState(null);\n  const [editingRecord, setEditingRecord] = useState(null); // { index, data }\n  const [isLoading, setIsLoading] = useState(false);\n  const [deleteConfirmation, setDeleteConfirmation] = useState(null); // Holds versionId to delete\n  const [error, setError] = useState('');\n  const title = dataType.charAt(0).toUpperCase() + dataType.slice(1);\n  useEffect(() => {\n    if (isOpen) {\n      fetchVersions();\n    } else {\n      // Reset state when modal is closed\n      setVersions([]);\n      setSelectedVersion(null);\n      setEditingRecord(null);\n      setDeleteConfirmation(null);\n      setError('');\n    }\n  }, [isOpen, dataType]);\n  const fetchVersions = async () => {\n    setIsLoading(true);\n    setError('');\n    try {\n      const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions`);\n      if (!response.ok) throw new Error('Failed to fetch versions.');\n      const data = await response.json();\n      setVersions(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleViewVersion = async versionId => {\n    // If already selected, collapse it\n    if (selectedVersion && selectedVersion._id === versionId) {\n      setSelectedVersion(null);\n      setEditingRecord(null);\n      return;\n    }\n    setIsLoading(true);\n    setError('');\n    try {\n      const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions/${versionId}`);\n      if (!response.ok) throw new Error('Failed to load version data.');\n      const data = await response.json();\n      setSelectedVersion(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleDeleteVersion = async versionId => {\n    try {\n      const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions/${versionId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) throw new Error('Failed to delete version.');\n      setDeleteConfirmation(null); // Close confirmation modal\n      fetchVersions(); // Refresh versions list\n\n      // If the deleted version was the selected one, clear the view\n      if (selectedVersion && selectedVersion._id === versionId) {\n        setSelectedVersion(null);\n      }\n      // Refresh the main page data as the underlying collection has been rebuilt\n      onDataUpdate();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const handleDownloadVersion = async version => {\n    try {\n      let versionData = version.data;\n\n      // If the data isn't already loaded (i.e., it's not the currently selected version), fetch it.\n      if (!versionData) {\n        const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions/${version._id}`);\n        if (!response.ok) throw new Error('Failed to load version data for download.');\n        const fullVersion = await response.json();\n        versionData = fullVersion.data;\n      }\n      const worksheet = XLSX.utils.json_to_sheet(versionData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Data');\n      XLSX.writeFile(workbook, `${dataType}_v${version.versionNumber}_${version.fileName}`);\n    } catch (err) {\n      alert(`Error preparing download: ${err.message}`);\n    }\n  };\n  const renderRecordRow = (record, index) => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"hover:bg-gray-50\",\n      children: tableHeaders.map(header => /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"border border-gray-200 px-2 py-1 text-sm\",\n        children: String(record[header] != null ? record[header] : '')\n      }, header, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this))\n    }, `display-${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Create a comprehensive set of headers from all records to handle inconsistent key ordering.\n  const tableHeaders = useMemo(() => {\n    if (!isOpen || !selectedVersion || !selectedVersion.data || selectedVersion.data.length === 0) {\n      return [];\n    }\n    const allKeys = new Set();\n    selectedVersion.data.forEach(record => {\n      if (record) Object.keys(record).forEach(key => allKeys.add(key));\n    });\n    return Array.from(allKeys);\n  }, [isOpen, selectedVersion]);\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center p-4 border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-[#1F4659]\",\n          children: [title, \" Upload History\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 rounded-full hover:bg-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 overflow-y-auto flex-grow\",\n        children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: versions.map(version => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: [\"Version \", version.versionNumber, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-normal text-gray-600\",\n                  children: version.fileName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 54\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: new Date(version.uploadDate).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleViewVersion(version._id),\n                  className: \"flex items-center gap-1 text-blue-600 hover:underline\",\n                  children: [selectedVersion && selectedVersion._id === version._id ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 81\n                  }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 106\n                  }, this), \"View Data\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDownloadVersion(version),\n                  className: \"p-1 text-gray-600 hover:text-blue-700\",\n                  title: \"Download Version\",\n                  children: /*#__PURE__*/_jsxDEV(Download, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setDeleteConfirmation(version._id),\n                  className: \"p-1 text-gray-600 hover:text-red-700\",\n                  title: \"Delete Version\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), selectedVersion && selectedVersion._id === version._id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-semibold mb-2\",\n                children: [\"Data for Version \", selectedVersion.versionNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overflow-x-auto max-h-[50vh]\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"w-full border-collapse text-xs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"bg-gray-100\",\n                      children: tableHeaders.map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"border border-gray-200 px-2 py-2 text-left font-semibold sticky top-0 bg-gray-100\",\n                        children: header\n                      }, header, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 177,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: selectedVersion.data.map(renderRecordRow)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 19\n            }, this)]\n          }, version._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), deleteConfirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-xl p-6 w-full max-w-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\",\n              children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"h-6 w-6 text-red-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg leading-6 font-medium text-gray-900\",\n                children: \"Delete Upload Version\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Are you sure you want to delete this version? This will permanently remove the version and rebuild the main data from the remaining uploads. This action cannot be undone.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDeleteVersion(deleteConfirmation),\n              type: \"button\",\n              className: \"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setDeleteConfirmation(null),\n              type: \"button\",\n              className: \"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadHistoryModal, \"ONNIAXfzb0VHonjkKQjkBHg9opA=\");\n_c = UploadHistoryModal;\nexport default UploadHistoryModal;\nvar _c;\n$RefreshReg$(_c, \"UploadHistoryModal\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","X","Download","Trash2","ChevronDown","ChevronUp","AlertTriangle","XLSX","jsxDEV","_jsxDEV","UploadHistoryModal","isOpen","onClose","dataType","onDataUpdate","_s","versions","setVersions","selectedVersion","setSelectedVersion","editingRecord","setEditingRecord","isLoading","setIsLoading","deleteConfirmation","setDeleteConfirmation","error","setError","title","charAt","toUpperCase","slice","fetchVersions","response","fetch","ok","Error","data","json","err","message","handleViewVersion","versionId","_id","handleDeleteVersion","method","alert","handleDownloadVersion","version","versionData","fullVersion","worksheet","utils","json_to_sheet","workbook","book_new","book_append_sheet","writeFile","versionNumber","fileName","renderRecordRow","record","index","className","children","tableHeaders","map","header","String","_jsxFileName","lineNumber","columnNumber","length","allKeys","Set","forEach","Object","keys","key","add","Array","from","onClick","Date","uploadDate","toLocaleString","size","type","_c","$RefreshReg$"],"sources":["C:/Users/Yolokazi.Mmutsi/OneDrive - Altron Group/Documents/development/apps/myapps/MarketingApp1/frontend/src/components/UploadHistoryModal.js"],"sourcesContent":["import React, { useState, useMemo ,useEffect} from 'react';\r\nimport { X, Download, Trash2, ChevronDown, ChevronUp, AlertTriangle } from 'lucide-react';\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst UploadHistoryModal = ({ isOpen, onClose, dataType, onDataUpdate }) => {\r\n  const [versions, setVersions] = useState([]);\r\n  const [selectedVersion, setSelectedVersion] = useState(null);\r\n  const [editingRecord, setEditingRecord] = useState(null); // { index, data }\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState(null); // Holds versionId to delete\r\n  const [error, setError] = useState('');\r\n\r\n  const title = dataType.charAt(0).toUpperCase() + dataType.slice(1);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetchVersions();\r\n    } else {\r\n      // Reset state when modal is closed\r\n      setVersions([]);\r\n      setSelectedVersion(null);\r\n      setEditingRecord(null);\r\n      setDeleteConfirmation(null);\r\n      setError('');\r\n    }\r\n  }, [isOpen, dataType]);\r\n\r\n  const fetchVersions = async () => {\r\n    setIsLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions`);\r\n      if (!response.ok) throw new Error('Failed to fetch versions.');\r\n      const data = await response.json();\r\n      setVersions(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleViewVersion = async (versionId) => {\r\n    // If already selected, collapse it\r\n    if (selectedVersion && selectedVersion._id === versionId) {\r\n      setSelectedVersion(null);\r\n      setEditingRecord(null);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions/${versionId}`);\r\n      if (!response.ok) throw new Error('Failed to load version data.');\r\n      const data = await response.json();\r\n      setSelectedVersion(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteVersion = async (versionId) => {\r\n    try {\r\n      const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions/${versionId}`, {\r\n        method: 'DELETE',\r\n      });\r\n      if (!response.ok) throw new Error('Failed to delete version.');\r\n      \r\n      setDeleteConfirmation(null); // Close confirmation modal\r\n      fetchVersions(); // Refresh versions list\r\n      \r\n      // If the deleted version was the selected one, clear the view\r\n      if (selectedVersion && selectedVersion._id === versionId) {\r\n        setSelectedVersion(null);\r\n      }\r\n      // Refresh the main page data as the underlying collection has been rebuilt\r\n      onDataUpdate();\r\n    } catch (err) {\r\n      alert(`Error: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDownloadVersion = async (version) => {\r\n    try {\r\n      let versionData = version.data;\r\n\r\n      // If the data isn't already loaded (i.e., it's not the currently selected version), fetch it.\r\n      if (!versionData) {\r\n        const response = await fetch(`https://marketingapp-backend.onrender.com/api/uploads/${dataType}/versions/${version._id}`);\r\n        if (!response.ok) throw new Error('Failed to load version data for download.');\r\n        const fullVersion = await response.json();\r\n        versionData = fullVersion.data;\r\n      }\r\n\r\n      const worksheet = XLSX.utils.json_to_sheet(versionData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Data');\r\n      XLSX.writeFile(workbook, `${dataType}_v${version.versionNumber}_${version.fileName}`);\r\n    } catch (err) {\r\n      alert(`Error preparing download: ${err.message}`);\r\n    }\r\n  };\r\n\r\nconst renderRecordRow = (record, index) => {\r\n    return (\r\n      <tr key={`display-${index}`} className=\"hover:bg-gray-50\">\r\n        {tableHeaders.map(header => (\r\n          <td key={header} className=\"border border-gray-200 px-2 py-1 text-sm\">{String(record[header] != null ? record[header] : '')}</td>\r\n        ))}\r\n      </tr>\r\n    );\r\n  };\r\n\r\n  // Create a comprehensive set of headers from all records to handle inconsistent key ordering.\r\n  const tableHeaders = useMemo(() => {\r\n    if (!isOpen || !selectedVersion || !selectedVersion.data || selectedVersion.data.length === 0) {\r\n      return [];\r\n    }\r\n    const allKeys = new Set();\r\n    selectedVersion.data.forEach(record => {\r\n      if (record) Object.keys(record).forEach(key => allKeys.add(key));\r\n    });\r\n    return Array.from(allKeys);\r\n  }, [isOpen, selectedVersion]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col\">\r\n        <div className=\"flex justify-between items-center p-4 border-b\">\r\n          <h2 className=\"text-2xl font-bold text-[#1F4659]\">{title} Upload History</h2>\r\n          <button onClick={onClose} className=\"p-2 rounded-full hover:bg-gray-200\">\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-4 overflow-y-auto flex-grow\">\r\n          {isLoading && <p>Loading...</p>}\r\n          {error && <p className=\"text-red-500\">{error}</p>}\r\n          \r\n          <div className=\"space-y-2\">\r\n            {versions.map(version => (\r\n              <div key={version._id} className=\"border rounded-lg\">\r\n                <div className=\"flex items-center justify-between p-3 bg-gray-50\">\r\n                  <div className=\"font-semibold\">\r\n                    Version {version.versionNumber}: <span className=\"font-normal text-gray-600\">{version.fileName}</span>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    {new Date(version.uploadDate).toLocaleString()}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <button onClick={() => handleViewVersion(version._id)} className=\"flex items-center gap-1 text-blue-600 hover:underline\">\r\n                      {selectedVersion && selectedVersion._id === version._id ? <ChevronUp size={16}/> : <ChevronDown size={16}/>}\r\n                      View Data\r\n                    </button>\r\n                    <button onClick={() => handleDownloadVersion(version)} className=\"p-1 text-gray-600 hover:text-blue-700\" title=\"Download Version\">\r\n                      <Download size={18} />\r\n                    </button>\r\n                    <button onClick={() => setDeleteConfirmation(version._id)} className=\"p-1 text-gray-600 hover:text-red-700\" title=\"Delete Version\">\r\n                      <Trash2 size={18} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {selectedVersion && selectedVersion._id === version._id && (\r\n                  <div className=\"p-4 border-t\">\r\n                    <h4 className=\"text-lg font-semibold mb-2\">Data for Version {selectedVersion.versionNumber}</h4>\r\n                    <div className=\"overflow-x-auto max-h-[50vh]\">\r\n                      <table className=\"w-full border-collapse text-xs\">\r\n                        <thead>\r\n                          <tr className=\"bg-gray-100\">\r\n                            {tableHeaders.map(header => (\r\n                              <th key={header} className=\"border border-gray-200 px-2 py-2 text-left font-semibold sticky top-0 bg-gray-100\">{header}</th>\r\n                            ))}\r\n                             {/* <th className=\"border border-gray-200 px-2 py-2 text-left font-semibold sticky top-0 bg-gray-100\">Actions</th>  */}\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {selectedVersion.data.map(renderRecordRow)}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {deleteConfirmation && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50\">\r\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n              <div className=\"flex items-start\">\r\n                <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\r\n                  <AlertTriangle className=\"h-6 w-6 text-red-600\" />\r\n                </div>\r\n                <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Delete Upload Version</h3>\r\n                  <div className=\"mt-2\">\r\n                    <p className=\"text-sm text-gray-500\">Are you sure you want to delete this version? This will permanently remove the version and rebuild the main data from the remaining uploads. This action cannot be undone.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\">\r\n                <button onClick={() => handleDeleteVersion(deleteConfirmation)} type=\"button\" className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm\">Delete</button>\r\n                <button onClick={() => setDeleteConfirmation(null)} type=\"button\" className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm\">Cancel</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadHistoryModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}